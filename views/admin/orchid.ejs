<form method="get" class="flex items-center justify-center shadow-md max-h-max">
	<input
		type="text"
		name="search"
		value=""
		placeholder="Search orchids..."
		class="w-full h-full p-3 px-6 rounded-lg"
	/>
</form>
<section class="h-full overflow-hidden">
	<div class="relative h-full overflow-hidden bg-white">
		<div
			class="flex flex-col h-full max-w-2xl min-h-full gap-2 p-4 mx-auto overflow-hidden shadow-md sm:p-6 lg:max-w-7xl lg:p-8"
		>
			<div class="flex items-center justify-between">
				<h2 class="text-3xl font-light">Dashboard Orchid List</h2>
				<a
					href="orchids/create"
					class="p-2 px-4 transition-all bg-blue-600 rounded w-max hover:bg-blue-800 text-neutral-50"
				>
					+ Add new orchid
				</a>
			</div>
			<% if(success_msg !='' ){ %>
				<span class="text-sm font-medium text-green-600">
					<%= success_msg %>
				</span>
				<% } %> <% if(error_msg !='' ){ %>
				<span class="text-sm font-medium text-red-600"> <%= error_msg %> </span>
				<% } %> <% if(error !='' ){ %>
				<span class="text-sm font-medium text-red-600"> <%= error %> </span>
				<% } %>

			<% if (typeof orchids !='undefined' && orchids.length > 0) { %>

			<div
				class="flex flex-col gap-2 px-6 py-4 divide-y divide-neutral-200 overflow-y-auto max-h-[65svh]"
			>
				<% orchids.forEach(orchid => { %>

				<div
					class="relative flex items-center justify-between gap-2 px-2 group"
				>
					<a
						href="orchid/<%= orchid.name %>"
						class="absolute inset-0 flex items-center justify-between w-full h-full p-2 transition-all rounded hover:bg-neutral-100/30"
					>
					</a>
					<div class="flex items-center gap-2">
						<div
							class="overflow-hidden rounded w-28 h-28 aspect-square"
						>
							<img
								src="<%= orchid.image %>"
								alt="orchid image"
								class="object-cover object-center w-full h-full transition-all group-hover:opacity-75"
							/>
						</div>
						<div class="flex flex-col ">

							<h3 class="text-xl font-light"><%= orchid.name %></h3>

							<span>
								<% if (orchid.category) { %>
									<%= orchid.category.name %>
									<% } else { %>
									 This category has been deleted!
								<% } %>
							</span>
							<span><%= orchid.origin %></span>
							<span>

								<% if (orchid.isNatural) { %>
									Natural	
									<% } else { %>
									 Not natural
								<% } %>
									
								</span>
						</div>
					</div>

					<div class="flex items-center gap-2 p-2 z-[2]">
						<a
							href="orchid/<%= orchid.name %>"
							class="p-1 px-4 text-white bg-blue-600 rounded-md hover:bg-blue-600"
						>
							Update
						</a>
						<a
							href="orchid/<%= orchid.name %>/delete"
							class="p-1 px-4 text-white bg-red-600 rounded-md hover:bg-red-600"
						>
							Delete
						</a>
					</div>
				</div>

				<% }) %>
			</div>

			<% } else { %>
			<span class="w-full mt-6 font-medium text-center">
				There's currently no orchids in the store
			</span>
			<% } %>
		</div>
	</div>
</section>
