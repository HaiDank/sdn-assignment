<form method="get" class="flex items-center justify-center shadow-md max-h-max">
	<input
		type="text"
		name="search"
		value=""
		placeholder="Search category..."
		class="w-full h-full p-3 px-6 rounded-lg"
	/>
</form>
<section class="h-full">
	<div class="relative h-full overflow-hidden bg-white">
		<div
			class="flex flex-col h-full max-w-2xl min-h-full gap-2 p-4 mx-auto overflow-hidden shadow-md sm:p-6 lg:max-w-7xl lg:p-8"
		>
			<div class="flex items-center justify-between">
				<h2 class="text-3xl font-light">Dashboard Category List</h2>
				<a
					href="categories/create"
					class="p-2 px-4 transition-all bg-blue-600 rounded w-max hover:bg-blue-800 text-neutral-50"
				>
					+ Add new category
				</a>
			</div>
			<% if(success_msg !='' ){ %>
				<span class="text-sm font-medium text-green-600">
					<%= success_msg %>
				</span>
				<% } %> <% if(error_msg !='' ){ %>
				<span class="text-sm font-medium text-red-600"> <%= error_msg %> </span>
				<% } %> <% if(error !='' ){ %>
				<span class="text-sm font-medium text-red-600"> <%= error %> </span>
				<% } %>

			<% if (categories.length > 0) { %>

			<div class="flex flex-col max-h-[65svh] gap-2 px-6 py-4 overflow-y-auto divide-y divide-neutral-200">
				<% categories.forEach(category => { %>
				<div class="relative">
					<a
					href="category/<%= category.name %>"
					class="flex items-center justify-between p-2 transition-all hover:bg-neutral-100"
				>
					<h3 class="text-xl font-light"><%= category.name %></h3>
					<div class="absolute top-0 flex items-center gap-2 p-2 right-1">
						<a href="category/<%= category.name %>/update" class="p-1 px-4 text-white bg-blue-600 rounded-md hover:bg-blue-600">
							Update
						</a>
						<a href="category/<%= category.name %>/delete" class="p-1 px-4 text-white bg-red-600 rounded-md hover:bg-red-600">
							Delete
						</a>
					</div>
				</a>
				</div>
				

				<% }) %>
			</div>

			<% } else { %>
			<span class="w-full mt-6 font-medium text-center">
				There's currently no categories in the database
			</span>
			<% } %>
		</div>
	</div>
</section>

<script type="text/javascript">
	if(success_msg != ''){
		console.log(success_msg)
		alert('' + success_msg)
	}
</script>
